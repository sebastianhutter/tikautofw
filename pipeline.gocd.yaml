pipelines:
  Build:
    group: tikautofw
    label_template: "${git[:8]}"
    materials:
      git:  # this is the name of material
        git: git@github.com:sebastianhutter/tikautofw.git
    stages:
      - Build:
          jobs:
            build:
              tasks:
                - exec:
                  command: make
                  arguments:
                    - build_latest
              tasks:
                - exec:
                  command: make
                  arguments:
                    - build_commit
      - Publish:
          jobs:
            publish:
              tasks:
                - exec:
                  command: make
                  arguments:
                    - push_latest
                - exec:
                  command: make
                  arguments:
                    - push_commit
